---
title: 第一次实验课备课
tags: [实验]
date: 2019-04-07 15:30:59
permalink: 
categories: 
description:
image:
---
<p class="description"></p>

<img src="https://" alt="" style="width:100%" />

<!-- more -->
## 第一次实验课内容
前三节课了解流水灯设计的IO口概念，熟悉实验箱和开发环境。最后一节课留给大家自己做实验。
三次实验，第一次是流水灯，第二次是双缓存，第三次是做综合试验，综合试验会用到中断的概念。

## 实验箱简介（第一节课）
### 实验箱简介ppt
凡是做硬件实验要有三个东西，也就是三个要素，第一个就是你在PC机上安装一个软件，也就是Keil软件，根据你的想法，在开发环境中写好使流水灯跑起来的代码，然后通过编译链接生成二进制码，然后把二进制码通过下载器下载到目标实验箱上面去，PC机上安装这个软件主要就是生成可执行的二进制码，这是一个要素。
第二个要素就是下载器，可以看一下这个下载器，这个下载器不需要知道太多。 第三个就是实验箱，要使这个流水灯跑起来要熟悉实验箱和开发环境，下载器就不需要关注了。

打开实验箱介绍的ppt可以看一下  学习资料 -> ppt -> 01-实验箱简介.ppt

1. 凡是和硬件打交道一定要注意一点，注意电源问题。出问题时一定要先把电源切断。做实验室不要说把电源直接开，把所有准备工作做好，再把电源打开。 实验箱虽然上着电，但是电源是没有开的。所有准备工作做完了再去上电，不然容易烧东西。

2. 实验箱模块布局，主要分为三部分：
    - 布局里面的外围设备（引脚 P3\p4\P1\P2）
    - 左下ARM CPU（引脚是 P9\P10\P11\P12）
    - 右下FPGA双缓存 （引脚P13）
    
	FPGA与ARM板大部分通过桥接板连接，这里桥接板把CPU和FPGA已经直连了，因ARM和FPGA之间走的速度比较快，普通连接线会导致信号连接不稳定，桥接板提供稳定的高速通道。

3. 流水灯（P2接口）与ARM（P12接口）相应口，用杜邦线接起来，给它串起来。

4. FPGA要有一个宏观的认识就行了，具体使用的时候，再去查询
5. 独立按键三引脚 高电平，低电平（持续低电平）和10ms低电平（相当于产生一个低电平脉冲）
想做一个中断，中断的事件是一个低电平脉冲触发，用这个按键产生一个沿

6. 交通灯是一个十字路口的红黄绿灯，烟雾、温湿度传感器
，超声波这些模块是已经做好了的模块，里面的信号处理已经做好了，剩下的只是一个信号的接收的过程
7. 直流电机和步进电机的区别 直流电机上电直接就会一直转；步进电机是一步一步的走的，给一个0000的信号不动，再给一个0001的信号转动18度
8. 数码管 静态显示和动态显示
9. 通信串口RS485对RS232进行了改进
    - RS232模块传输距离有限，一根传输线只有一路信号，通过高低电平，按照美国110V电压的标准，如果在220V时带电插拔，会把周围的大地电平当成110V，就会烧毁元器件，接入后断电插拔，避免产生接地脉冲（过压、过流）
    - RS485由一根线传输改进为两根线，传输距离远，两路信号测量电压差值，用于车联网信号
10. CP2102模块  USB信号
11. 拿到实验箱后，左下角有白色按钮开关，另外不熟悉电路板的情况下，不要乱动跳线端子，以免导致电路出问题

以上就是实验箱的基本情况，如果说涉及到不懂的接口，查看ARM板文档说明。

### MDK安装文档说明
打开文件夹 Arm -> MDK5安装文档说明文档.doc
安装软件、添加器件库

1. 硬驱动满足电机特性，如功率等；软驱动满足软件的设置
2. 下载到实验箱的文件就是USER/objects/xxx.axf文件

## 流水灯实验（第二节课）
新建工程有4个步骤： 1.建工程 2.建文件夹 3.配置源文件 4.把源文件串起来

1. 1.4节实验原理讲解 （cpu与外围电路相连（P12 连接 P2接口））
2. 实验箱连接 三种方式 实验指导书/文档、程序中的介绍、查看原理图
3. 外围电路原理讲解（LED灯有相应的额定电流、额定电压与MCU IO的输出的电流、电压不一致，
可能会损毁器件，因此需要设计外围驱动电路，硬驱动（为了满足电流电压（电气特性）的要求）） 图1.5MOS管可以当成反相器

放三极管把电流放大，电阻和三极管合在一起称为硬驱动
实验电路别人已经设计好了，但是如果要是自己去设计电路，就要按照这种思路，购买元器件，然后设计。

IO输入输出是阻塞的，同一时刻只有I或O，但是完成了输入输出的功能
CPU处理IO有两种方式，轮询和中断

推挽 是 驱动方式，具体是上拉或下拉
输入输出不接任何设备叫浮空
开漏输出：什么都不接
推挽输出：实际上是做了甲乙类功放电路

4. 1.4节（2）B）微控制器IO输出控制原理 讲解 图1.8中上拉电阻 下拉电阻 的作用（将不确定信号钳位在高低电平）

5. 1.4节（3）实验过程
\资料下载\学习资料\ppt\02-外设介绍及配置  p7 p8 时钟理解




## 试验程序讲解和debug（第三节课）
实验程序讲解

## 自由实验（第三节课）
